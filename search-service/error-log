{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.searches index: userId_1 dup key: { userId: \"67d6f374a054d77ba3dfd6e2\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d6f374a054d77ba3dfd6e2"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d6f374a054d77ba3dfd6e2"},"level":"error","message":"Error handling post creation event E11000 duplicate key error collection: test.searches index: userId_1 dup key: { userId: \"67d6f374a054d77ba3dfd6e2\" }","service":"search-service","stack":"MongoServerError: E11000 duplicate key error collection: test.searches index: userId_1 dup key: { userId: \"67d6f374a054d77ba3dfd6e2\" }\n    at InsertOneOperation.execute (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-23T09:45:23.174Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.searches index: userId_1 dup key: { userId: \"67d6f374a054d77ba3dfd6e2\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d6f374a054d77ba3dfd6e2"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d6f374a054d77ba3dfd6e2"},"level":"error","message":"Error handling post creation event E11000 duplicate key error collection: test.searches index: userId_1 dup key: { userId: \"67d6f374a054d77ba3dfd6e2\" }","service":"search-service","stack":"MongoServerError: E11000 duplicate key error collection: test.searches index: userId_1 dup key: { userId: \"67d6f374a054d77ba3dfd6e2\" }\n    at InsertOneOperation.execute (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/salon/Microservices-Social-Media/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-23T09:45:48.997Z"}
{"level":"error","message":"Failed to connect to server handlePost is not defined","service":"search-service","stack":"ReferenceError: handlePost is not defined\n    at startServer (/home/salon/Microservices-Social-Media/search-service/src/server.js:86:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T09:51:56.650Z"}
{"level":"error","message":"Failed to connect to server handlePost is not defined","service":"search-service","stack":"ReferenceError: handlePost is not defined\n    at startServer (/home/salon/Microservices-Social-Media/search-service/src/server.js:86:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T09:53:18.055Z"}
{"level":"error","message":"Failed to connect to server handlePost is not defined","service":"search-service","stack":"ReferenceError: handlePost is not defined\n    at startServer (/home/salon/Microservices-Social-Media/search-service/src/server.js:86:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T09:54:30.323Z"}
{"level":"error","message":"Failed to connect to server handlePost is not defined","service":"search-service","stack":"ReferenceError: handlePost is not defined\n    at startServer (/home/salon/Microservices-Social-Media/search-service/src/server.js:86:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T09:54:58.716Z"}
{"level":"error","message":"Failed to connect to server handlePost is not defined","service":"search-service","stack":"ReferenceError: handlePost is not defined\n    at startServer (/home/salon/Microservices-Social-Media/search-service/src/server.js:86:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T09:55:07.345Z"}
{"level":"error","message":"Error handling post creation event Cannot read properties of undefined (reading 'keys')","service":"search-service","stack":"TypeError: Cannot read properties of undefined (reading 'keys')\n    at invalidatePostCache (/home/salon/Microservices-Social-Media/search-service/src/controllers/search-controller.js:50:40)\n    at handlePostCreated (/home/salon/Microservices-Social-Media/search-service/src/eventHandlers/search-event-handlers.js:20:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T10:13:39.488Z"}
{"level":"error","message":"Error handling post deletion event Cannot read properties of undefined (reading 'keys')","service":"search-service","stack":"TypeError: Cannot read properties of undefined (reading 'keys')\n    at invalidatePostCache (/home/salon/Microservices-Social-Media/search-service/src/controllers/search-controller.js:50:40)\n    at handlePostDeleted (/home/salon/Microservices-Social-Media/search-service/src/eventHandlers/search-event-handlers.js:36:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-23T10:14:52.637Z"}
